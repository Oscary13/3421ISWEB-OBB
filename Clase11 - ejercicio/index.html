<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@latest/dist/Chart.min.js"></script>
    <title>Ejercicio</title>
    <style>
        .tabla{
            width: 100%;
            height: auto;
            border: 1px solid black;
            border-collapse: collapse;
            text-align: center;
        }
        .tabla td{            
            border-bottom: cadetblue solid 1px;
        }
        .tabla th{
            color: rgb(48, 59, 8);
        }
        .tabla2{
        	text-align: center;
        	color: red;
        }
        .tabla3{
        	text-align: center;
        	color: black;
        }
    </style>
</head>

<body>
    <h1 class="tabla3"><b>CARRITO DE COMPRAS</b></h1>

	<h2 class="tabla1"><b>ARTÍCULOS</b></h2>
	<table class="tabla" style="margin-top: 5%;">
    <thead>
    <tr>
        <th><b>ARTÍCULOS</b></th>
        <th><b>PRECIO</b></th>
        <th><b>Cantidad</b></th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>PlayStation 5</td>
        <td>$13999</td>
        <td><input type="number" id="uno" nombre="PlayStation 5" precio="13999" class="articulos"><b></b></input></td>
    </tr>
    <tr>
        <td>Xbox Series S</td>
        <td>$7714</td>
        <td><input type="number" id="dos" nombre="Xbox Series S" precio="7714" class="articulos"><b></b></input></td>
    </tr>
    <tr>
        <td>Nintendo switch</td>
        <td>$7106</td>
        <td><input type="number" id="tres" nombre="Nintendo Switch" precio="7106" class="articulos"><b></b></input></td>
    </tr>
    </tbody>
</table>
<br><br>
<h2 class="tabla1"><b>ARTÍCULOS COMPRADOS:</b></h2><br>
<table class="tabla" style="margin-top: 5%;">
    <tbody>
        <tr>
            <td><b>ARTICULO</b></td>
            <td><b>PRECIO</b></td>
        </tr>
        <tr>
            <td id="name1"></td>
            <td id="total1"></td>
        </tr>
        <tr>
            <td id="name2"></td>
            <td id="total2"></td>
        </tr>
        <tr>
            <td id="name3"></td>
            <td id="total3"></td>
        </tr>
       
        </tbody>
   
</table>
<br><br>
<label id="muestra" for=""><b></b></label><br><br>
<canvas id="myChart" width="400" height="400"></canvas>
</body>
<script src="jquery.main.js"></script>
<script>
    var arrayArticulos = [];
    arrayArticulos[0] = 0;
    arrayArticulos[1] = 0;
    arrayArticulos[2] = 0;

    var total = 0;
    var total2 = 0;
    $("#uno").change(function(){
        var nombre = ($(this).attr("nombre"));
        $("#name1").html(nombre);
        var cantidad = $(this).val();
        var precio = parseInt($(this).attr("precio"));
        var multi = (cantidad* precio);
        total = multi;
        total2 = multi + multi;
        $("#total1").html("$ "+total);
        arrayArticulos[0] = total;
        
    });
    $("#dos").change(function(){
        var nombre = ($(this).attr("nombre"));
        $("#name2").html(nombre);
        var cantidad = $(this).val();
        var precio = parseInt($(this).attr("precio"));
        var multi = (cantidad* precio);
        total = multi;
        total2 = multi + multi;
        $("#total2").html("$ "+total);
        arrayArticulos[1] = total;
    });
    $("#tres").change(function(){
        var nombre = ($(this).attr("nombre"));
        $("#name3").html(nombre);
        var cantidad = $(this).val();
        var precio = parseInt($(this).attr("precio"));
        var multi = (cantidad* precio);
        total = multi;
        total2 = multi + multi;
        $("#total3").html("$ "+total);
        arrayArticulos[2] = total;
    });
    $(".articulos").change(function(){
        console.log(arrayArticulos[0]);
        console.log(arrayArticulos[1]);
        console.log(arrayArticulos[2]);
        total2 = (arrayArticulos[0]+arrayArticulos[1]+arrayArticulos[2]);
        console.log(arrayArticulos);
        console.log(total2);
        $("#muestra").html( '<b>'+"Total: $ "+'</b>' + total2);



        //Grafica
        var ctx = document.getElementById('myChart').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'pie',
    data: {
        labels: ['PlayStation 5 = $ ' + arrayArticulos[0] , 'Xbox Series S = $ '+ arrayArticulos[1], 'Nintendo switch = $ '+ arrayArticulos[2]],
        datasets: [{
            label: '# of Votes',
            data: [arrayArticulos[0], arrayArticulos[1], arrayArticulos[2]],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});
    });



</script>
</html>